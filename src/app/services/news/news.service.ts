import { Injectable } from '@angular/core';
import {HttpClient} from '@angular/common/http';
import {environment} from '../../../environments/environment';
import {Observable, of} from 'rxjs';
import {SymbolNews} from '../../model/Symbol';
import {map} from 'rxjs/operators';

@Injectable({
  providedIn: 'root'
})
export class NewsService {

  constructor(private http: HttpClient) { }

  fetchNews() {
  }

  fetchNewsForStocks(symbols: string[]): Observable<SymbolNews[]> {
    // TODO: FETCH FOR WHOLE LIST OF SYMBOLS. NOT JUST FIRST ITEM
    const url = environment.news_symbols.replace('$1', symbols[0]);

    return of(mockNewsSymbols as any);
    // return this.http.get<SymbolNews[]>(url);
  }
}

const mockNewsSymbols =
    [{"datetime":1593995771000,"headline":"Pardon the Intrusion #21: What does the privacy label say?","source":"The Next Web","url":"https://cloud.iexapis.com/v1/news/article/30c35146-81a0-4592-9ac6-96002ad58508","summary":"Apple has introduced a new privacy-focused \"nutrition label\" for third-party apps that clearly describe how apps use your data.","related":"AAPL","image":"https://cloud.iexapis.com/v1/news/image/30c35146-81a0-4592-9ac6-96002ad58508","lang":"en","hasPaywall":false},{"datetime":1593976341000,"headline":"What the new coronavirus tracker on your phone is for","source":"ChronicleLive","url":"https://cloud.iexapis.com/v1/news/article/dd18b101-07c1-4af0-9bc8-05212a0929ef","summary":"The new tool has caused confusion for many people who use Apple and Android devices - here is some information about what it is and what it's being used for","related":"AAPL","image":"https://cloud.iexapis.com/v1/news/image/dd18b101-07c1-4af0-9bc8-05212a0929ef","lang":"en","hasPaywall":false},{"datetime":1593974767000,"headline":"€40m losses on €14bn Apple tax row account","source":"Irish Mirror","url":"https://cloud.iexapis.com/v1/news/article/cc2f10c8-043b-471f-9681-478a803538ea","summary":"The escrow account racked up a loss of €40million in 2019, up from €16million the previous year, according to the National Treasury Management Agency","related":"AAPL","image":"https://cloud.iexapis.com/v1/news/image/cc2f10c8-043b-471f-9681-478a803538ea","lang":"en","hasPaywall":false},{"datetime":1593954661000,"headline":"What you need to know about new covid-19 tracker on your phone","source":"Teesside Live","url":"https://cloud.iexapis.com/v1/news/article/e5202192-dbbe-47df-9dad-f69a60a71400","summary":"A new 'coronavirus tracker' was installed on both Apple and Android phones as part of recent updates","related":"AAPL","image":"https://cloud.iexapis.com/v1/news/image/e5202192-dbbe-47df-9dad-f69a60a71400","lang":"en","hasPaywall":false},{"datetime":1593953400000,"headline":"OnePlus, the small tech company taking on Apple and Samsung, is about to launch a super-cheap 5G smartphone — here's everything we know about it so far","source":"Business Insider","url":"https://cloud.iexapis.com/v1/news/article/7fddf262-a8bf-4953-9cc2-77356b2e0232","summary":"OnePlus is gearing up to release its next smartphone, the OnePlus Nord, which will cost less than $500. The phone is expected to feature a flat, simple design, a multi-camera setup, and 5G connectivity. The Nord will be noticeably cheaper than the recently launched OnePlus 8 and OnePlus 8 Pro, which cost $700 and $900, respectively. The launch would come as smartphone makers like Samsung and Apple are launching more competitively priced phones like the iPhone SE and series of Galaxy A devices. Visit Business Insider's homepage for more stories . OnePlus launched the $700 OnePlus 8 and $900 OnePlus 8 Pro earlier this year, but the company is already planning its next major smartphone launch: The OnePlus Nord. Unlike the OnePlus 8 and OnePlus 8 Pro, the Nord is expected to represent a return to the company's roots of launching affordable smartphones that undercut the prices of devices launched by Samsung and Apple. The company has somewhat strayed from that vision by launching phones with higher prices at a time when the industry is gravitating toward less expensive phones.","related":"AAPL","image":"https://cloud.iexapis.com/v1/news/image/7fddf262-a8bf-4953-9cc2-77356b2e0232","lang":"en","hasPaywall":false},{"datetime":1593950416000,"headline":"With macOS 11 Big Sur, Apple seems to have lifted a ban on fun, allowing for an expressiveness in visual design that we haven't seen from it in almost a decade (Michael Flarup/Apply Pixels)","source":"Techmeme","url":"https://cloud.iexapis.com/v1/news/article/3f737c20-1a86-4d0c-96d6-594bc7553763","summary":"Michael Flarup / Apply Pixels : With macOS 11 Big Sur, Apple seems to have lifted a ban on fun, allowing for an expressiveness in visual design that we haven't seen from it in almost a decade — It's finally here. The thing I have been advocating for through my work, writing, videos and talks for years. A swing of the pendulum.","related":"AAPL","image":"https://cloud.iexapis.com/v1/news/image/3f737c20-1a86-4d0c-96d6-594bc7553763","lang":"en","hasPaywall":false},{"datetime":1593944622000,"headline":"'Contact tracker' installed on Apple and Android phones - all you need to know","source":"ExaminerLive","url":"https://cloud.iexapis.com/v1/news/article/fb59c650-1994-4b62-8a9d-87d1afc02621","summary":"The app allows phones to measure the distance between two handsets via bluetooth - and then alerts the phone owner","related":"AAPL","image":"https://cloud.iexapis.com/v1/news/image/fb59c650-1994-4b62-8a9d-87d1afc02621","lang":"en","hasPaywall":false},{"datetime":1593944571000,"headline":"How the 'tracing app' installed on Apple and Android phones works","source":"Hull Live","url":"https://cloud.iexapis.com/v1/news/article/4d3cce0f-4dc7-4367-8523-690be749bcc4","summary":"The new programme has been installed on millions of devices as part of a software update, and is switched on by default","related":"AAPL","image":"https://cloud.iexapis.com/v1/news/image/4d3cce0f-4dc7-4367-8523-690be749bcc4","lang":"en","hasPaywall":false},{"datetime":1593901020000,"headline":"Apple surveys customers on including chargers with iPhones","source":"Tech Advisor","url":"https://cloud.iexapis.com/v1/news/article/c9750230-6311-4c6e-ae64-60826d81078e","summary":"Another hint that the iPhone 12 might not ship with a charger in the box","related":"AAPL","image":"https://cloud.iexapis.com/v1/news/image/c9750230-6311-4c6e-ae64-60826d81078e","lang":"en","hasPaywall":false},{"datetime":1593891980000,"headline":"Barron's Picks And Pans: Chipotle, Lululemon, Zoom Video And More","source":"Benzinga Feeds","url":"https://cloud.iexapis.com/v1/news/article/4c556fc7-31cc-4858-bb05-1eb21838e0e2","summary":"This weekend's Barron's cover story offers three ways for investors to play the second half of 2020. Other featured articles look at what a Biden administration may mean for Wall Street, as well as some unloved utilities and other stocks. Also, the prospects for a software stocks, restaurant stocks, an unexpected acquisition and more. Cover story \" 3 Scenarios for Playing the Coronavirus Economy in the Second Half \" by Lisa Beilfuss presents a bullish and a bearish case for the second half of 2020. How will Apple Inc. (NASDAQ: AAPL ), Nike Inc (NYSE: NKE ) and others fare? Carleton English's \" Beaten-Down Utility Stocks Could Power Up \" makes a case that this out-of-favor sector includes some bargains with juicy payouts. Does that include CenterPoint Energy, Inc. (NYSE: CNP ) or PG&E Corporation (NYSE: PCG )? In \" No Friends on Wall Street? No Problem for These … Full story available on Benzinga.com","related":"AAPL","image":"https://cloud.iexapis.com/v1/news/image/4c556fc7-31cc-4858-bb05-1eb21838e0e2","lang":"en","hasPaywall":false}]
